(()=>{"use strict";var e={337:function(e,t,i){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(i(921));class n extends s.default{constructor(...e){super(...e,"Bishop"),this.getPossibleMoves=e=>{let t=[];const{x:i,y:o}=this.position;for(var s=i+1,n=o-1,l=i-1,r=o+1,a=i+1,u=o+1,c=i-1,h=o-1;s<8&&n>-1||l>-1&&r<8||a<8&&u<8;){var d={x:s,y:n};!(p=e.presentInSpace(d))&&s<8&&n>-1?t.push({position:d,valid:!0,steps:s-i}):p&&p.color!==this.color&&(t.push({position:d,kill:p,valid:!0,steps:s-i}),s=8,n=-1),s++,n--,d={x:l,y:r},!(p=e.presentInSpace(d))&&l>-1&&r<8?t.push({position:d,valid:!0,steps:l-i}):p&&p.color!==this.color&&(t.push({position:d,kill:p,valid:!0,steps:l-i}),l=-1,r=8),l--,r++,d={x:a,y:u};var p=e.presentInSpace(d);a<8&&u<8&&(p?p&&p.color!==this.color&&(t.push({position:d,kill:p,valid:!0,steps:a-i}),a=8,u=8):t.push({position:d,valid:!0,steps:a-i}),a++,u++),d={x:c,y:h},!(p=e.presentInSpace(d))&&c>-1&&h>-1?t.push({position:d,valid:!0,steps:c-i}):p&&p.color!==this.color&&(t.push({position:d,kill:p,valid:!0,steps:c-i}),c=-1,h=-1),c--,h--}return t}}}t.default=n},517:function(e,t,i){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(i(921));class n extends s.default{constructor(...e){super(...e,"King"),this.getPossibleMoves=e=>{let t=[];const i=i=>{var o=e.presentInSpace(i);t.push({position:i,valid:!o||(null==o?void 0:o.color)!==this.color,kill:o,steps:4})};var{x:o,y:s}=this.position,n={x:o,y:--s};return s>=0&&i(n),n={x:++o,y:s},o<=7&&s>=0&&i(n),n={x:o,y:++s},o<=7&&i(n),n={x:o,y:++s},o<=7&&s<=7&&i(n),n={x:--o,y:s},o>=0&&s<=7&&i(n),n={x:--o,y:s},o>=0&&s<=7&&i(n),n={x:o,y:--s},o>=0&&s>=0&&i(n),n={x:o,y:--s},o>=0&&s>=0&&i(n),t}}}t.default=n},530:function(e,t,i){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(i(921));class n extends s.default{constructor(...e){super(...e,"Knight"),this.getPossibleMoves=e=>{let t=[];const{x:i,y:o}=this.position,s=i=>{var o=e.presentInSpace(i);t.push({position:i,valid:!o||(null==o?void 0:o.color)!==this.color,kill:o,steps:4})};var n={x:i+1,y:o-2};return i<7&&o>1&&s(n),n={x:i+2,y:o-1},i<6&&o>0&&s(n),n={x:i+2,y:o+1},i<6&&o<7&&s(n),n={x:i+1,y:o+2},i<7&&o<6&&s(n),n={x:i-1,y:o+2},i>0&&o<6&&s(n),n={x:i-2,y:o+1},i>1&&o<7&&s(n),n={x:i-2,y:o-1},i>1&&o>0&&s(n),n={x:i-1,y:o-2},i>0&&o>1&&s(n),t}}}t.default=n},888:function(e,t,i){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(405),n=o(i(921));class l extends n.default{constructor(...e){super(...e,"Pawn"),this.getPossibleMoves=e=>{var t=[],{x:i,y:o}=this.position;if(this.color===s.Color.BLACK&&0==o)return[];if(this.color===s.Color.WHITE&&7==o)return[];var n=this.color===s.Color.BLACK?o-1:o+1,l=e.presentInSpace({x:i,y:n});if(t.push({position:{x:i,y:n},valid:!l,steps:1}),this.color===s.Color.BLACK&&6===this.position.y||this.color===s.Color.WHITE&&1===this.position.y){var r=this.color===s.Color.BLACK?o-2:o+2;l=e.presentInSpace({x:i,y:r});t.push({position:{x:i,y:r},valid:!l,steps:2})}return 0!=i&&(null==(l=e.presentInSpace({x:i-1,y:n}))?void 0:l.color)!==this.color&&l&&t.push({position:{x:i-1,y:n},valid:!0,kill:l,steps:1}),7!=i&&(null==(l=e.presentInSpace({x:i+1,y:n}))?void 0:l.color)!==this.color&&l&&t.push({position:{x:i+1,y:n},valid:!0,kill:l,steps:1}),t}}}t.default=l},921:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{get denomination(){return this._denomination}set denomination(e){this._denomination=e}constructor(e,t,i){this.status="alive",this.id=crypto.randomUUID(),this.kill=()=>{this.status="dead"},this._position=e,this._denomination=i,this._color=t}getPossibleMoves(e){return[]}get color(){return this._color}get position(){return this._position}set position(e){this._position=e}}},134:function(e,t,i){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(i(337)),n=o(i(921)),l=o(i(787));class r extends n.default{constructor(...e){super(...e,"Queen"),this.getPossibleMoves=e=>{let t=[];return t.push(...new l.default(this.position,this.color).getPossibleMoves(e)),t.push(...new s.default(this.position,this.color).getPossibleMoves(e)),t}}}t.default=r},787:function(e,t,i){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(i(921));class n extends s.default{constructor(...e){super(...e,"Rook"),this.getPossibleMoves=e=>{let t=[];const{x:i,y:o}=this.position;for(var s=i-1,n=7-i;s>0||n<8;){var l={x:s,y:o};!(r=e.presentInSpace(l))&&s>-1?t.push({position:l,valid:!0,steps:i-s}):r&&r.color!==this.color&&(t.push({position:l,kill:r,valid:!0,steps:i-s}),s=-1),l={x:n,y:o},!(r=e.presentInSpace(l))&&n<8?t.push({position:l,valid:!0,steps:i-s}):r&&r.color!==this.color&&(t.push({position:l,kill:r,valid:!0,steps:i-s}),n=8),s--,n++}for(s=o-1,n=7-o;s>-1||n<8;){var r;l={x:i,y:s},!(r=e.presentInSpace(l))&&s>-1?t.push({position:l,valid:!0,steps:o-s}):r&&r.color!==this.color&&(t.push({position:l,kill:r,valid:!0,steps:o-s}),s=-1),l={x:i,y:n},!(r=e.presentInSpace(l))&&n<8?t.push({position:l,valid:!0,steps:o-s}):r&&r.color!==this.color&&(t.push({position:l,kill:r,valid:!0,steps:o-s}),n=8),s--,n++}return console.log(t),t}}}t.default=n},15:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BISHOP=void 0,t.BISHOP=(e,t)=>`\n<svg xmlns="http://www.w3.org/2000/svg" width="52" height="54" viewBox="0 0 52 54" fill="none">\n  <path d="M19.3386 12.6629C19.0518 11.8348 18.895 10.9409 18.895 10.0096C18.895 5.72409 22.2002 2.25 26.2774 2.25C30.3546 2.25 33.6598 5.72409 33.6598 10.0096C33.6598 11.2649 33.3744 12.4549 32.8685 13.5071C33.5965 13.5601 34.304 13.9049 34.8198 14.5245C37.6224 17.891 40.0749 22.6911 40.0749 28.2548C40.0749 32.2325 38.772 35.18 37.0116 37.3037L40.3552 37.9201C41.7205 38.1718 42.7163 39.4181 42.7163 40.875V46.5C42.7163 47.2957 42.4156 48.0587 41.8804 48.6213C41.3451 49.1839 40.6191 49.5 39.8622 49.5L12.6927 49.5C11.1164 49.5 9.83853 48.1569 9.83853 46.5V40.875C9.83853 39.4198 10.8322 38.1744 12.1955 37.9209L15.2117 37.36C13.4272 35.2323 12.1027 32.2683 12.1027 28.2548C12.1027 23.914 13.7031 20.1337 15.5801 17.2365C16.76 15.4155 18.0957 13.8696 19.3386 12.6629Z" fill="${t}"/>\n  <path d="M27.6771 27.8582H24.8229C24.8229 22.3496 26.4125 16.8502 29.9291 12.8247C30.4802 12.0363 30.8057 11.0629 30.8057 10.0096C30.8057 7.38094 28.7783 5.25 26.2775 5.25C23.7766 5.25 21.7492 7.38094 21.7492 10.0096C21.7492 11.3065 22.2427 12.4823 23.0431 13.3408C20.2145 15.4603 14.9568 21.1417 14.9568 28.2548C14.9568 35.4332 20.3114 38.3394 23.1203 38.936L12.6927 40.875V46.5L39.8622 46.5V40.875L29.1873 38.9071C32.0281 38.2499 37.2207 35.3239 37.2207 28.2548C37.2207 23.6261 35.1693 19.5 32.6719 16.5C29.9291 18.75 27.6771 24 27.6771 27.8582Z" fill="${e}"/>\n</svg>\n`},882:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(405),s=i(15),n=i(493),l=i(217),r=i(990),a=i(483),u=i(465),c="#f4f4f4",h="#34364C";t.default={Pawn:{[o.Color.WHITE]:(0,r.PAWN)(c,h),[o.Color.BLACK]:(0,r.PAWN)(h,c)},Bishop:{[o.Color.WHITE]:(0,s.BISHOP)(c,h),[o.Color.BLACK]:(0,s.BISHOP)(h,c)},King:{[o.Color.WHITE]:(0,n.KING)(c,h),[o.Color.BLACK]:(0,n.KING)(h,c)},Knight:{[o.Color.WHITE]:(0,l.KNIGHT)(c,h),[o.Color.BLACK]:(0,l.KNIGHT)(h,c)},Queen:{[o.Color.WHITE]:(0,a.QUEEN)(c,h),[o.Color.BLACK]:(0,a.QUEEN)(h,c)},Rook:{[o.Color.WHITE]:(0,u.ROOK)(c,h),[o.Color.BLACK]:(0,u.ROOK)(h,c)}}},493:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KING=void 0,t.KING=(e,t)=>`\n<svg xmlns="http://www.w3.org/2000/svg" width="52" height="54" viewBox="0 0 52 54" fill="none">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M21.9701 2.9063C22.0183 1.28671 23.2813 0 24.8229 0H29.1042C30.6458 0 31.9088 1.28671 31.9569 2.9063L31.982 3.75H33.3854C34.9617 3.75 36.2396 5.09315 36.2396 6.75V8.56954C39.3507 7.82953 42.7088 8.32383 45.559 10.8203C51.48 16.0067 50.9352 26.8786 43.9081 32.8251C42.2123 34.2602 40.8801 35.4499 39.9627 36.6757C39.7534 36.9554 39.5741 37.226 39.4232 37.4909L42.3158 37.9021C43.7314 38.1033 44.7874 39.3735 44.7874 40.875V46.5C44.7874 48.1569 43.5096 49.5 41.9333 49.5H11.9938C10.4175 49.5 9.13965 48.1569 9.13965 46.5V40.875C9.13965 39.3735 10.1957 38.1033 11.6113 37.9021L14.5039 37.4909C14.3529 37.226 14.1737 36.9554 13.9643 36.6757C13.047 35.4499 11.7147 34.2602 10.0189 32.8251C2.99183 26.8786 2.44702 16.0067 8.36811 10.8203C11.2183 8.32384 14.5763 7.82953 17.6875 8.56954V6.75C17.6875 5.09315 18.9653 3.75 20.5417 3.75H21.945L21.9701 2.9063Z" fill="${t}"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M24.8229 3H29.1042L29.2157 6.75H33.3854V11.25H29.3495L29.5455 16.3447C29.6237 16.2479 29.7043 16.1529 29.7874 16.0601C33.6855 11.7053 39.4653 9.38791 43.7318 13.125C48.013 16.875 48.013 25.5 42.1183 30.4884C38.7791 33.3141 35.7882 36.0382 35.9355 40.0224L41.9333 40.875V46.5H11.9938V40.875L17.9916 40.0224C18.139 36.0382 15.148 33.3141 11.8088 30.4884C5.91407 25.5 5.91407 16.875 10.1953 13.125C14.4618 9.38791 20.2416 11.7053 24.1398 16.0601C24.2228 16.1529 24.3034 16.2479 24.3816 16.3447L24.5776 11.25H20.5417V6.75H24.7114L24.8229 3ZM20.79 20.2299C23.4063 24.7343 23.7526 30 23.7526 32.2899C22.4412 32.2924 17.4976 30.0064 14.8802 26.2535C12.9958 23.5517 12.5045 19.5431 14.1198 17.9869C15.7351 16.4306 19.1548 17.4146 20.79 20.2299ZM33.1371 20.2299C30.5208 24.7343 30.1745 30 30.1745 32.2899C31.4859 32.2924 36.4295 30.0064 39.0469 26.2535C40.9313 23.5517 41.4226 19.5431 39.8073 17.9869C38.192 16.4306 34.7723 17.4146 33.1371 20.2299Z" fill="${e}"/>\n</svg>\n`},217:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KNIGHT=void 0,t.KNIGHT=(e,t)=>`\n<svg xmlns="http://www.w3.org/2000/svg" width="52" height="54" viewBox="0 0 52 54" fill="none">\n  <path d="M21.2474 0.380208C22.1869 0.269167 23.1178 0.654328 23.7332 1.40873L29.5563 8.54758C36.2436 10.2846 40.1182 15.5774 42.2612 22.1847C44.4694 28.9931 45.0156 37.6365 45.0156 46.5C45.0156 48.1568 43.7378 49.5 42.1614 49.5H15.5499C14.0346 49.5 12.7835 48.2554 12.7 46.6652C12.6256 45.246 12.9362 42.7837 13.8828 40.2685L13.9002 40.2225C11.2121 41.7391 8.22885 41.3758 6.01423 39.7185C3.32285 37.7044 1.82638 33.7615 3.53612 29.8678C4.76903 27.06 6.09785 25.5732 7.10309 24.4487C8.04207 23.3983 8.43337 22.9363 8.7102 21.7724C10.3886 14.7157 13.8416 10.6505 17.5499 8.79529C17.4962 7.99137 17.5399 7.21685 17.6337 6.51365C17.8672 4.76329 18.4485 3.14577 19.0411 1.96329C19.4817 1.08408 20.3079 0.491249 21.2474 0.380208Z" fill="${t}"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M28.0124 11.2639L21.5664 3.36142C20.6333 5.22337 19.7287 8.50956 21.0293 10.8819C20.398 10.9409 19.7947 11.0532 19.3281 11.25C16.3511 12.5057 13.0846 15.75 11.4792 22.5C11.0143 24.4545 10.1776 25.3905 9.18314 26.5029C8.24509 27.5523 7.16668 28.7586 6.12761 31.125C3.98699 36 9.76405 40.875 13.9766 36.4472C16.3449 33.9579 18.4151 32.9302 20.1531 32.0674C22.6547 30.8256 24.4682 29.9253 25.4927 25.5C25.9801 27.5642 25.7851 32.4358 21.1061 35.4082C16.4272 38.3807 15.4524 44.6422 15.5499 46.5H42.1615C42.1615 28.8624 39.9398 13.6236 28.0124 11.2639Z" fill="${e}"/>\n  <ellipse cx="20.0417" cy="20.25" rx="2.14062" ry="2.25" fill="${t}"/>\n</svg>\n`},990:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PAWN=void 0,t.PAWN=(e,t)=>`\n<svg xmlns="http://www.w3.org/2000/svg" width="52" height="54" viewBox="0 0 52 54" fill="none">\n<path d="M16.5507 30.8452C16.2101 31.3338 15.8038 31.8427 15.3302 32.3661C13.6587 34.2134 11.6087 35.7332 10.2857 36.5279L10.0631 36.6616C9.17381 37.1957 8.625 38.1897 8.625 39.2663V46.5C8.625 48.1569 9.90285 49.5 11.4792 49.5H39.3073C40.8836 49.5 42.1615 48.1569 42.1615 46.5V39.2663C42.1615 38.1897 41.6126 37.1957 40.7234 36.6616L40.5008 36.5279C39.1778 35.7332 37.1278 34.2134 35.4563 32.3661C34.9826 31.8427 34.5763 31.3338 34.2358 30.8452C35.4884 30.5281 36.4191 29.3426 36.4191 27.9286V23.0451C36.4191 22.0704 35.9686 21.1564 35.2109 20.5942L33.9987 19.6948C34.6981 18.2663 35.094 16.6453 35.094 14.9286C35.094 9.16903 30.6519 4.5 25.1724 4.5C19.6928 4.5 15.2507 9.16903 15.2507 14.9286C15.2507 16.7419 15.6922 18.4479 16.4665 19.9332L15.5755 20.5942C14.8179 21.1564 14.3673 22.0704 14.3673 23.0451V27.9286C14.3673 29.3426 15.298 30.5281 16.5507 30.8452Z" fill="${t}"/>\n<path d="M32.2398 14.9286C32.2398 17.0831 31.3672 19.0233 29.9732 20.3802L33.565 23.0451V27.9286H30.0488C30.2183 30.1922 31.6001 32.4576 33.3881 34.4336C35.2856 36.5307 37.5686 38.222 39.0847 39.1326L39.3073 39.2663V46.5H11.4792V39.2663L11.7017 39.1326C13.2178 38.222 15.5008 36.5307 17.3983 34.4336C19.1863 32.4576 20.5681 30.1922 20.7377 27.9286H17.2215V23.0451L20.5666 20.5632C19.0594 19.2009 18.1049 17.1819 18.1049 14.9286C18.1049 10.8259 21.2691 7.5 25.1724 7.5C29.0756 7.5 32.2398 10.8259 32.2398 14.9286Z" fill="${e}"/>\n</svg>\n\n`},483:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.QUEEN=void 0,t.QUEEN=(e,t)=>`\n<svg xmlns="http://www.w3.org/2000/svg" width="52" height="54" viewBox="0 0 52 54" fill="none">\n  <path d="M12.9062 7.5C12.9062 8.24051 13.0196 8.95298 13.229 9.61938L11.8201 10.314C10.6522 9.0415 9.01298 8.25001 7.19791 8.25001C3.6512 8.25001 0.776031 11.2721 0.776031 15C0.776031 18.3231 3.06065 21.0853 6.06902 21.6461L9.4527 33.84C9.52333 34.0945 9.62575 34.3381 9.75729 34.5644L11.7075 37.9186L11.6955 37.9209C10.3322 38.1744 9.33853 39.4198 9.33853 40.875V46.5C9.33853 48.1568 10.6164 49.5 12.1927 49.5L39.3622 49.5C40.1191 49.5 40.8451 49.1839 41.3804 48.6213C41.9156 48.0587 42.2163 47.2957 42.2163 46.5V40.875C42.2163 39.4181 41.2205 38.1718 39.8552 37.9201L39.7978 37.9095L41.7427 34.5644C41.8742 34.3381 41.9766 34.0945 42.0473 33.84L45.431 21.6461C48.4393 21.0853 50.7239 18.3231 50.7239 15C50.7239 11.2721 47.8488 8.25001 44.3021 8.25001C42.4847 8.25001 40.8437 9.04349 39.6754 10.3188L38.2691 9.62542C38.4797 8.95729 38.5937 8.24275 38.5937 7.5C38.5937 3.77208 35.7186 0.75 32.1719 0.75C28.6252 0.75 25.75 3.77208 25.75 7.5C25.75 3.77208 22.8748 0.75 19.3281 0.75C15.7814 0.75 12.9062 3.77208 12.9062 7.5Z" fill="${t}"/>\n  <path d="M20.6088 11.0012C21.9465 10.4602 22.8958 9.09663 22.8958 7.5C22.8958 5.42893 21.2985 3.75 19.3281 3.75C17.3577 3.75 15.7604 5.42893 15.7604 7.5C15.7604 9.41389 17.1245 10.9929 18.8865 11.2216L17.2955 24.75L9.62554 17.748C10.3268 17.0633 10.7656 16.0855 10.7656 15C10.7656 12.9289 9.16832 11.25 7.19793 11.25C5.22754 11.25 3.63022 12.9289 3.63022 15C3.63022 17.0711 5.22754 18.75 7.19793 18.75C7.54479 18.75 7.88009 18.698 8.19714 18.6009L12.1927 33L16.3246 40.1067L12.1927 40.875V46.5L39.3622 46.5V40.875L35.1773 40.1035L39.3073 33L43.3029 18.6009C43.6199 18.698 43.9552 18.75 44.3021 18.75C46.2725 18.75 47.8698 17.0711 47.8698 15C47.8698 12.9289 46.2725 11.25 44.3021 11.25C42.3317 11.25 40.7344 12.9289 40.7344 15C40.7344 16.0855 41.1732 17.0633 41.8745 17.748L34.2046 24.75L32.6135 11.2216C34.3755 10.9929 35.7396 9.41389 35.7396 7.5C35.7396 5.42893 34.1423 3.75 32.1719 3.75C30.2015 3.75 28.6042 5.42893 28.6042 7.5C28.6042 9.09663 29.5535 10.4602 30.8912 11.0012L25.75 23.25L20.6088 11.0012Z" fill="${e}"/>\n</svg>\n`},465:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOK=void 0,t.ROOK=(e,t)=>`\n    <svg xmlns="http://www.w3.org/2000/svg" width="52" height="54" viewBox="0 0 52 54" fill="none">\n  <path d="M19.1146 3.75C19.6345 3.75 20.1219 3.89609 20.5417 4.15135C20.9615 3.89609 21.4489 3.75 21.9687 3.75H29.8177C30.3376 3.75 30.825 3.89609 31.2448 4.15135C31.6646 3.89609 32.152 3.75 32.6719 3.75H39.8073C41.3836 3.75 42.6615 5.09315 42.6615 6.75V13.5C42.6615 14.4443 42.2385 15.3334 41.5198 15.9L37.1157 19.3718L38.3628 31.1687C38.6929 34.2919 40.0759 35.8765 42.0906 38.7C42.4612 39.2193 42.6615 39.8509 42.6615 40.5V46.5C42.6615 48.1569 41.3836 49.5 39.8073 49.5H11.9792C10.4029 49.5 9.125 48.1569 9.125 46.5V40.5C9.125 39.8509 9.3253 39.2193 9.69583 38.7C11.7105 35.8765 13.0936 34.2919 13.4237 31.1687L14.6708 19.3718L10.2667 15.9C9.54797 15.3334 9.125 14.4443 9.125 13.5V6.75C9.125 5.09315 10.4029 3.75 11.9792 3.75H19.1146Z" fill="${t}"/>\n  <path d="M11.9792 6.75H19.1146V11.25H21.9687V6.75H29.8177V11.25H32.6719V6.75H39.8073V13.5L34.0989 18L35.526 31.5H16.2604L17.6875 18L11.9792 13.5V6.75Z" fill="${e}"/>\n  <path d="M16.2604 34.5H35.526L39.8073 40.5V46.5H11.9792V40.5L16.2604 34.5Z" fill="${e}"/>\n</svg>\n`},770:function(e,t,i){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(i(876)),n=o(i(97)),l=new s.default;new n.default(l)},405:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.Color=void 0,(i=t.Color||(t.Color={}))[i.BLACK=0]="BLACK",i[i.WHITE=1]="WHITE"},117:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CHESS_GAME_STORAGE_KEY=void 0,t.CHESS_GAME_STORAGE_KEY="CHESS_GAME_STORAGE_KEY"},876:function(e,t,i){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isSamePosition=void 0;const s=o(i(337)),n=o(i(517)),l=o(i(530)),r=i(405),a=i(117),u=o(i(888)),c=o(i(134)),h=o(i(787));t.isSamePosition=(e,t)=>e.x===t.x&&e.y===t.y;class d{constructor(){this._turn=r.Color.WHITE,this.gameOn=!0,this._runtimeStore=[],this.getPieceById=e=>{const t=this._runtimeStore.find((t=>t.id===e));return"Pawn"===(null==t?void 0:t.denomination)||"Rook"===(null==t?void 0:t.denomination)||"Knight"===(null==t?void 0:t.denomination)||"King"===(null==t?void 0:t.denomination)||"Queen"===(null==t?void 0:t.denomination)||"Bishop"===(null==t?void 0:t.denomination)?t:null},this.initializeBoard=()=>{Array.from({length:8},((e,t)=>{this._runtimeStore.push(new u.default({x:t,y:1},r.Color.WHITE))})),Array.from({length:8},((e,t)=>{this._runtimeStore.push(new u.default({x:t,y:6},r.Color.BLACK))}));const e=[0,7];e.map(((e,t)=>{this._runtimeStore.push(new h.default({x:e,y:0},r.Color.WHITE))})),e.map(((e,t)=>{this._runtimeStore.push(new h.default({x:e,y:7},r.Color.BLACK))}));const t=[1,6];t.map(((e,t)=>{this._runtimeStore.push(new l.default({x:e,y:0},r.Color.WHITE))})),t.map(((e,t)=>{this._runtimeStore.push(new l.default({x:e,y:7},r.Color.BLACK))}));const i=[2,5];i.map(((e,t)=>{this._runtimeStore.push(new s.default({x:e,y:0},r.Color.WHITE))})),i.map(((e,t)=>{this._runtimeStore.push(new s.default({x:e,y:7},r.Color.BLACK))})),this._runtimeStore.push(new c.default({x:3,y:0},r.Color.WHITE)),this._runtimeStore.push(new c.default({x:3,y:7},r.Color.BLACK)),this._runtimeStore.push(new n.default({x:4,y:0},r.Color.WHITE)),this._runtimeStore.push(new n.default({x:4,y:7},r.Color.BLACK)),this.saveToStore()},this.presentInSpace=e=>this.runtimeStore.find((t=>t.position.x===e.x&&t.position.y===e.y)),this.saveToStore=()=>{localStorage.setItem(a.CHESS_GAME_STORAGE_KEY,JSON.stringify(this.runtimeStore))},this.movePiece=(e,t)=>{if(!e.valid)return;const i=this.runtimeStore.findIndex((e=>e.id===t.id));this.runtimeStore[i].position=e.position,this.saveToStore()},this.killPiece=e=>{const t=this.runtimeStore.findIndex((t=>t.id===e));this.runtimeStore[t].kill(),this.saveToStore()},this.possibleCheck=e=>{if(e.getPossibleMoves(this).some((e=>{var t;return"King"===(null===(t=e.kill)||void 0===t?void 0:t.denomination)}))){const o=this.runtimeStore.filter((t=>t.color===this.alt(e.color))),s=this.runtimeStore.find((t=>t.color===this.alt(e.color)&&"King"===t.denomination));var i=s?s.getPossibleMoves(this):[];i.length;for(const e of i)for(const s of o)s.getPossibleMoves(this).some((i=>(0,t.isSamePosition)(e.position,i.position)))&&(i=i.filter((i=>!(0,t.isSamePosition)(i.position,e.position))));return 0===i.length?(this.gameOn=!1,alert("Checkmate"+e.color+" is the winner "),[]):i}return[]},this._possibleCheckMate=e=>{const i=this.runtimeStore.filter((t=>t.color===this.alt(e))),o=this.runtimeStore.find((t=>t.color===e&&"King"===t.denomination));var s=o?o.getPossibleMoves(this):[];const n=s.length;for(const e of s)for(const o of i)o.getPossibleMoves(this).some((i=>(0,t.isSamePosition)(e.position,i.position)))&&(s=s.filter((i=>!(0,t.isSamePosition)(i.position,e.position))));return 0===s.length?(alert("Checkmate"),[]):s.length!==n&&(alert("Check"),s)},this.alt=e=>e===r.Color.WHITE?r.Color.BLACK:r.Color.WHITE;try{var e=localStorage.getItem(a.CHESS_GAME_STORAGE_KEY);e?JSON.parse(e).map(((e,t)=>{"Pawn"===e._denomination&&this.runtimeStore.push(new u.default(e._position,e._color)),"Knight"===e._denomination&&this.runtimeStore.push(new l.default(e._position,e._color)),"Bishop"===e._denomination&&this.runtimeStore.push(new s.default(e._position,e._color)),"Rook"===e._denomination&&this.runtimeStore.push(new h.default(e._position,e._color)),"Queen"===e._denomination&&this.runtimeStore.push(new c.default(e._position,e._color)),"King"===e._denomination&&this.runtimeStore.push(new n.default(e._position,e._color))})):this.initializeBoard()}catch(e){alert("Wahala")}}get runtimeStore(){return this._runtimeStore}get turn(){return this._turn}nextTurn(){this._turn=this._turn===r.Color.WHITE?r.Color.BLACK:r.Color.WHITE}}d.retrieveData=()=>{var e=localStorage.getItem(a.CHESS_GAME_STORAGE_KEY);return e?JSON.parse(e):[]},t.default=d},97:function(e,t,i){var o=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(s,n){function l(e){try{a(o.next(e))}catch(e){n(e)}}function r(e){try{a(o.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(l,r)}a((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(882)),l=i(405);function r(e,t=0){return[...Array(e).keys()].map((e=>e+t))}function a(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function u(e,t){e.classList?e.classList.add(t):a(e,t)||(e.className+=" "+t)}function c(e,t){if(e.classList)e.classList.remove(t);else if(a(e,t)){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ")}}t.default=class{constructor(e){this.deadPieces=[],this.restrictedKingMoves=[],this.currentPiece=null,this.createPieceDOM=(e,t,i)=>{const o=document.createElement("div");return o.className="piece "+(this.service.turn===l.Color.WHITE?"rotate-180":""),i||(o.style.display="none"),o.id=e.id,o.addEventListener("click",this.togglePossibleMoves),o.innerHTML=n.default[e.denomination][e.color],null==t||t.appendChild(o),o},this.movePiece=(e,t)=>{if(!this.service.gameOn)return;const i=this.currentPiece;if(null==i)return;const o=i.getPossibleMoves(this.service).find((t=>t.position.x===e.x&&t.position.y===e.y));if(o&&(t.stopPropagation(),o.kill&&this.killPiece(o.kill),o.valid)){this.service.movePiece(o,i),i.position=o.position;const e=document.getElementById(i.id);if(!e)return;this.fade(e),e.remove();const t=document.querySelector(`.row:nth-child(${o.position.y+1}) .square:nth-child(${o.position.x+1})`),s=this.createPieceDOM(i,t,!1);this.unfade(s);const n=this.service.possibleCheck(i);n&&(this.restrictedKingMoves=n),this.removePossibleMoves(),this.nextTurn()}},this.nextTurn=()=>o(this,void 0,void 0,(function*(){const e=document.getElementById("board"),t=document.querySelectorAll(".piece");this.service.turn===l.Color.WHITE&&(yield this.fade(e),c(e,"rotate-180"),t.forEach((e=>{c(e,"rotate-180")})),yield this.unfade(e)),this.service.turn===l.Color.BLACK&&(yield this.fade(e),u(e,"rotate-180"),t.forEach((e=>{u(e,"rotate-180")})),yield this.unfade(e)),this.service.nextTurn()})),this.fade=e=>new Promise((t=>{var i=1,o=setInterval((function(){i<=.2&&(clearInterval(o),e.style.display="none",t()),e.style.opacity=i+"",e.style.filter="alpha(opacity="+100*i+")",i-=.2*i}),50)})),this.unfade=e=>new Promise((t=>{var i=.1;e.style.display="block";var o=setInterval((function(){i>=1&&(clearInterval(o),t()),e.style.opacity=i+"",e.style.filter="alpha(opacity="+100*i+")",i+=.1*i}),10)})),this.killPiece=e=>{this.deadPieces.push(e);const t=document.getElementById(e.id);null==t||t.remove(),this.service.killPiece(e.id)},this.removePossibleMoves=()=>{this.currentPiece=null,document.querySelectorAll(".circle, .danger, .invalid").forEach((e=>e.remove()))},this.togglePossibleMoves=e=>{var t,i;if(!this.service.gameOn)return;const o=null==e?void 0:e.target,s=this.service.getPieceById(o.id);(null==s?void 0:s.color)===this.service.turn&&((null===(t=this.currentPiece)||void 0===t?void 0:t.id)!==(null==s?void 0:s.id)?this.currentPiece?(null===(i=this.currentPiece)||void 0===i?void 0:i.color)===(null==s?void 0:s.color)&&this.removePossibleMoves():s&&(this.currentPiece=s,s.getPossibleMoves(this.service).map((e=>{const t=document.querySelector(`.row:nth-child(${e.position.y+1}) .square:nth-child(${e.position.x+1})`);if(e.valid)if(e.kill){const e=document.createElement("div");e.className="danger",null==t||t.appendChild(e)}else{const e=document.createElement("div");e.className="circle",null==t||t.appendChild(e)}else{const e=document.createElement("div");e.className="invalid",null==t||t.appendChild(e)}}))):this.removePossibleMoves())},this.service=e,this.initialize()}initialize(){this.service.runtimeStore.map((e=>{const t=document.querySelector(`.row:nth-child(${e.position.y+1}) .square:nth-child(${e.position.x+1})`);this.createPieceDOM(e,t,!0)})),r(8).map((e=>{r(8).map((t=>{const i=document.querySelector(`.row:nth-child(${e+1}) .square:nth-child(${t+1})`);null==i||i.addEventListener("click",(i=>this.movePiece({x:t,y:e},i)))}))}))}}}},t={};!function i(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,i),n.exports}(770)})();